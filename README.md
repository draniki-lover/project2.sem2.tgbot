# Graph Builder Bot  
Telegram-бот для построения графиков математических функций с помощью WolframAlpha API.

## Участники проекта
- Шманькова Ксения Сергеевна (468113)  
- Шмидт Виктория Александровна (468114)  

## О проекте
Graph Builder Bot - это Telegram бот,созданный как возможное решение интеграции Wolframalpha в среду Телеграм, т.к. сейчас вся информация об учебе, а также нейросети находятся там, следовательно было бы удобно решать еще и задачу построения графиков, что является неотъемлемой частью курса математики, не выходя из приложения мессенжера.
Бот предоставляет два способа построения графиков:
1. Ввод пользовательской функции
2. Выбор из коллекции стандартных функций
Подобных тг-ботов мы еще не встречали, но он 100% пригодится как школьникам, так и студентам.

Основные возможности:
- Построение графиков по введенным формулам
- Коллекция стандартных математических функций
- Валидация вводимых функций
- Ограничение частоты запросов (rate limiting)

## Технологии
- Python 3
- aiogram (фреймворк для Telegram ботов)
- WolframAlpha API
- Pydantic (для работы с конфигурацией)

## Структура проекта

```text
graph-bot/
├── config/
│   └── __init__.py                         # Инициализация пакета конфигурации
|   └── wolfram_config.py                   # Конфигурация WolframAlpha API (ключи, настройки запросов)
|   └── bot_config.py                       # Основные настройки бота
├──filters
|    └── __init__.py                        # Инициализация фильтров
│    ├── graph_filt.py                      # Фильтр для проверки ввода графиков
│    └── graph_limit.py                     # Фильтр лимитер запросов (5 запросов/минуту)
│
├── graph_storage/                          # Хранилище графиков
│   ├── graph_20250608_160649_eaa5c2.png    # Примеры PNG-графиков
│   ├── graph_20250608_160705_06f321.png    # Примеры PNG-графиков
│   └── graphs_data.json                    # Метаданные графиков (сохраненные запросы)
│
├── keyboards/                             
│   └── __init__.py                         # Инициализация клавиатур
│   └── inlines.py                          # Все типы клавиатур (кнопки меню, стандартные функции)
│
├── logs/
│   └── __init__.py                         # Инициализация логгера
│   └── main.log                            # Лог-файл работы бота
│
├── middlewares/
│   └── __init__.py                         # Инициализация middleware            
│   └──func_valid.py                        # Валидатор математических функций
│
├── routers/
|    └── __init__.py                        # Инициализация роутеров                    
│    ├── commands.py                        # Основные команды (/start, /help)
│    └── handlers/                          # Обработчики команд
|        └── __init__.py                         # Инициализация обработчиков
│        ├── about.py                            # Информация о проекте (/about)
│        ├── clean.py                            # Очистка истории (/delete)
│        ├── grafmaking.py                       # Логика построения графиков
│        └── history.py                          # Работа с историей (/history)
│    
├── services/
|    └── __init__.py                        # Инициализация сервисов           
│    └── wolf_serv.py                       # Сервис работы с WolframAlpha API
│    └── storage_serv.py                    # Сервис сохранения/загрузки графиков
│
├── states/
|    └── __init__.py                        # Инициализация состояний          
│    └── state.py                           # FSM-состояния бота
│
├── storage/
|    └── __init__.py                        # Инициализация хранилища
│    └── graphs_data.json.py                # Хранилище метаданных
│          
├── utils/
|    └── __init__.py                        # Инициализация утилит
│    └── logger.py                          # Настройка системы логирования
│
├──README.md                                # Документация проекта (инструкции, описание)
├── main.py                                 # Запуск бота
└── requirements.txt                        # Список всех необходимых Python-пакетов, список зависимостей (aiogram, wolframalpha и др.)
```

## Предварительные требования
- Python 3.10+ (проверить версию: python --version)
- pip (менеджер пакетов Python)
- Telegram-бот (получить токен у [@BotFather](https://telegram.me/BotFather))
- WolframAlpha API ключ (зарегистрироваться на [developer.wolframalpha.com](developer.wolframalpha.com))

  
## Инструкция по установке и запуску

### Установка

1. **Клонируйте репозиторий**:
```bash
git clone https://github.com/your-username/graph-bot.git
cd graph-bot
```
2. **Установите зависимости**:
```bash
pip install -r requirements.txt
```
3. **Настройте окружение**:
- Создайте файл в папке config .env в корне проекта:
```bash
TELEGRAM_API_KEY=your_telegram_bot_token
WOLFRAM_APP_ID=your_wolfram_app_id
```
4. **Запуск бота**:
```dash
python main.py
```

### Получение API ключей
Telegram Bot Token:
- Напишите [@BotFather](https://telegram.me/BotFather) в Telegram
- Используйте команду /newbot
- Скопируйте полученный токен

WolframAlpha App ID:
- Зарегистрируйтесь на портале разработчика
- Перейдите по кнопке api access, а после нажать Get an App ID, введя требуемые данные
- Выбрать среди IP - "Full Results API"
- Скопируйте App ID


## Использование бота

После запуска бота вы можете взаимодействовать с ним через Telegram:

```
/start - начать работу с ботом
/help - получить справку по использованию бота
/about - информация о проекте
/history - просмотр истории графиков
/delete - очистка истории
```

Пример ввода функции:

```
y = x^2 + 3x - 5
f(x) = sin(x)*cos(x)
```

